<!-- NÃºt icon chat ná»•i -->
<div class="chat-toggle" (click)="toggleChat()">
  ğŸ’¬
</div>

<!-- Khung chat -->
<div class="chat-container" *ngIf="isOpen">
  
  <!-- Giá»›i thiá»‡u -->
  <div class="chat-intro">
    <p>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i cá»­a hÃ ng Serenity! ğŸ¡</p>
  </div>

  <!-- Khung hiá»ƒn thá»‹ tin nháº¯n -->
  <div class="chat-window">
    <div *ngFor="let msg of messages" class="message" [ngClass]="msg.role">
      <img [src]="msg.role === 'user' ? 'https://img.thuthuattinhoc.vn/uploads/2019/01/08/anh-anime_101906393.png' : 'https://png.pngtree.com/background/20230416/original/pngtree-ai-robot-innovation-high-tech-ppt-robot-template-background-image-picture-image_2443210.jpg'" class="avatar">
      <span [innerHTML]="formatMessage(msg.content)"></span>
    </div>
    <div *ngIf="loading" class="loading">ğŸ¤– AI Ä‘ang tráº£ lá»i...</div>
  </div>

  <!-- Ã” nháº­p tin nháº¯n -->
  <div class="chat-input">
    <input type="text" [(ngModel)]="userInput" (keyup.enter)="sendMessage()" placeholder="Nháº­p tin nháº¯n..." />
    <button (click)="sendMessage()" [disabled]="loading || !userInput.trim()">Gá»­i</button>
  </div>
</div>
