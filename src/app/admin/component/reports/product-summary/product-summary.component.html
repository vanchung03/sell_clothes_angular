<h2>Th·ªëng k√™ t·ªìn kho s·∫£n ph·∫©m</h2>

<div class="filter-container">
  <label for="operator">L·ªçc theo t·ªìn kho:</label>
  <select [(ngModel)]="stockOperator">
    <option value=">">L·ªõn h∆°n</option>
    <option value="<">Nh·ªè h∆°n</option>
    <option value="=">B·∫±ng</option>
  </select>

  <input type="number" [(ngModel)]="stockThreshold" placeholder="Nh·∫≠p s·ªë l∆∞·ª£ng" />
  <button (click)="applyFilter()">L·ªçc</button>
  <button (click)="exportToExcel()">üìÅ Xu·∫•t Excel</button>
</div>

<table class="product-table">
  <thead>
    <tr>
      <th>T√™n s·∫£n ph·∫©m</th>
      <th>T·ªïng s·ªë l∆∞·ª£ng</th>
      <th>S·ªë bi·∫øn th·ªÉ</th>
      <th>S·ªë h√¨nh ·∫£nh</th>
      <th>S·ªë ƒë√°nh gi√°</th>
      <th>Trung b√¨nh sao</th>
      <th>·∫¢nh + S·ªë l∆∞·ª£ng</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of filteredProductData">
      <td>{{ product.name }}</td>
      <td [ngClass]="{ 'low-stock': product.totalStock < 10 }">
        {{ product.totalStock }}
      </td>
      <td>{{ product.variantCount }}</td>
      <td>{{ product.imageCount }}</td>
      <td>{{ product.reviewCount }}</td>
      <td>{{ product.averageRating | number:'1.1-1' }}</td>
      <td>
        <div class="image-list">
          <div
            class="image-stock"
            *ngFor="let item of product.imageStocks"
            [ngClass]="{ 'low-stock': item.stockQuantity < 10 }"
          >
            <img [src]="item.imageUrl" alt="·∫¢nh" />
            <span>{{ item.stockQuantity }}</span>
            
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
