<h2>L·ªãch s·ª≠ giao d·ªãch</h2>

<!-- üîç Form T√¨m Ki·∫øm -->
<div class="filter-section">
  <input [(ngModel)]="searchTransactionCode" placeholder="Nh·∫≠p m√£ giao d·ªãch" />
  <input [(ngModel)]="startDate" type="date" placeholder="T·ª´ ng√†y" />
  <input [(ngModel)]="endDate" type="date" placeholder="ƒê·∫øn ng√†y" />
  <button (click)="filterPaymentHistories()">T√¨m ki·∫øm</button>
  <button (click)="exportToExcel()">Xu·∫•t Excel</button>
</div>

<!-- üìã B·∫£ng hi·ªÉn th·ªã giao d·ªãch -->
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>M√£ giao d·ªãch</th>
      <th>Ph∆∞∆°ng th·ª©c</th>
      <th>S·ªë ti·ªÅn</th>
      <th>Tr·∫°ng th√°i</th>
      <th>Th·ªùi gian</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let history of filteredHistories">
      <td>{{ history.historyId }}</td>
      <td>
        <button class="copy" (click)="copyToClipboard(history.transactionCode)"><i class="fa-solid fa-copy"></i></button> {{ history.transactionCode }}
      </td>
      <td>{{ history.paymentMethod }}</td>
      <td>{{ history.amount | currency:'VND' }}</td>
      <td>{{ history.status }}</td>
      <td>{{ history.createdAt | date:'dd/MM/yyyy HH:mm' }}</td>
      <td hidden>
        <button class="delete" (click)="deletePaymentHistory(history.historyId)">X√≥a</button>
      </td>
    </tr>
  </tbody>
</table>
