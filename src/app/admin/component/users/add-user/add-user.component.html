<mat-dialog-content class="add-user-container">
  <h2 class="title">Th√™m Ng∆∞·ªùi D√πng</h2>

  <!-- ‚úÖ Upload Avatar -->
  <div class="form-group">
    <mat-label>·∫¢nh ƒë·∫°i di·ªán</mat-label>
    <input type="file" id="avatar" (change)="onFileSelected($event)" accept="image/*" hidden />
    <div class="avatar-wrapper" (click)="triggerFileInput()">
      <img *ngIf="avatarPreview" [src]="avatarPreview" class="avatar-preview" />
      <mat-icon *ngIf="!avatarPreview">add_a_photo</mat-icon>
    </div>
    <mat-progress-bar *ngIf="isUploading" mode="indeterminate"></mat-progress-bar>
  </div>

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input matInput formControlName="username" placeholder="Nh·∫≠p username" />
        <mat-error *ngIf="userForm.controls['username'].invalid && userForm.controls['username'].touched">
          Username √≠t nh·∫•t 3 k√Ω t·ª±
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" placeholder="Nh·∫≠p email" />
        <mat-error *ngIf="userForm.controls['email'].invalid && userForm.controls['email'].touched">
          Email kh√¥ng h·ª£p l·ªá
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput type="password" formControlName="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" />
        <mat-error *ngIf="userForm.controls['password'].invalid && userForm.controls['password'].touched">
          M·∫≠t kh·∫©u √≠t nh·∫•t 6 k√Ω t·ª±
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>S·ªë ƒëi·ªán tho·∫°i</mat-label>
        <input matInput type="text" formControlName="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" />
        <mat-error *ngIf="userForm.controls['phone'].invalid && userForm.controls['phone'].touched">
          S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>H·ªç v√† T√™n</mat-label>
        <input matInput type="text" formControlName="fullName" placeholder="Nh·∫≠p h·ªç v√† t√™n" />
      </mat-form-field>
    </div>

    <div class="button-group">
      <button mat-raised-button color="primary" type="submit" [disabled]="isSubmitting">
        {{ isSubmitting ? "ƒêang l∆∞u..." : "üíæ L∆∞u ng∆∞·ªùi d√πng" }}
      </button>
    </div>
  </form>
</mat-dialog-content>
