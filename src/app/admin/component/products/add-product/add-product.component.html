<div class="add-product-container">
    <!-- âœ… TiÃªu Ä‘á» -->
    <h2 class="title">ThÃªm sáº£n pháº©m má»›i</h2>

    <!-- âœ… Form ThÃªm sáº£n pháº©m -->
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="form-section">
            <h3>ThÃ´ng tin sáº£n pháº©m</h3>

            <div class="form-group">
                <label>TÃªn sáº£n pháº©m</label>
                <input type="text" formControlName="name" placeholder="Nháº­p tÃªn sáº£n pháº©m" />
            </div>

            <div class="form-group">
                <label>MÃ´ táº£ sáº£n pháº©m</label>
                <textarea formControlName="description" placeholder="Nháº­p mÃ´ táº£ sáº£n pháº©m"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>GiÃ¡ gá»‘c</label>
                    <input type="number" formControlName="price" placeholder="0.00" />
                </div>

                <div class="form-group">
                    <label>GiÃ¡ khuyáº¿n mÃ£i</label>
                    <input type="number" formControlName="sale_price" placeholder="0.00" />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Danh má»¥c</label>
                    <select formControlName="category_id">
                        <!-- <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option> -->
                        <option> category1</option>
                        <option> category2</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ThÆ°Æ¡ng hiá»‡u</label>
                    <select formControlName="brand_id">
                        <!-- <option *ngFor="let brand of brands" [value]="brand.id">{{ brand.name }}</option> -->
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>Tráº¡ng thÃ¡i</label>
                <select formControlName="status">
                    <option value="1">Hoáº¡t Ä‘á»™ng</option>
                    <option value="0">KhÃ´ng hoáº¡t Ä‘á»™ng</option>
                </select>
            </div>
        </div>

        <!-- âœ… Upload HÃ¬nh áº¢nh -->
        <div class="form-section">
            <h3>HÃ¬nh áº£nh sáº£n pháº©m</h3>
            <input type="file" multiple (change)="onFileSelected($event)" />
            <div class="image-preview" *ngFor="let image of imagePreviews; let i = index">
                <img [src]="image" alt="áº¢nh sáº£n pháº©m" />
                <button (click)="removeImage(i)">X</button>
            </div>
        </div>

        <!-- âœ… Biáº¿n thá»ƒ sáº£n pháº©m -->
        <div class="form-section">
            <h3>Biáº¿n thá»ƒ sáº£n pháº©m</h3>

            <div class="variant-row" *ngFor="let variant of variants; let i = index">
                <!-- Chá»n MÃ u sáº¯c -->
                <select [(ngModel)]="variant.color" (change)="updateSKU(i)">
                    <option *ngFor="let color of colors" [value]="color">{{ color }}</option>
                </select>

                <!-- Chá»n Size -->
                <select [(ngModel)]="variant.size" (change)="updateSKU(i)">
                    <option *ngFor="let size of sizes" [value]="size">{{ size }}</option>
                </select>

                <!-- SKU tá»± Ä‘á»™ng táº¡o -->
                <input type="text" [(ngModel)]="variant.sku" placeholder="SKU" readonly />

                <input type="number" [(ngModel)]="variant.price" placeholder="GiÃ¡" />
                <input type="number" [(ngModel)]="variant.stock_quantity" placeholder="Sá»‘ lÆ°á»£ng" />

                <button (click)="removeVariant(i)">X</button>
            </div>

            <button (click)="addVariant()">âž• ThÃªm biáº¿n thá»ƒ</button>
        </div>



        <!-- âœ… NÃºt LÆ°u -->
        <button type="submit" class="save-btn">ðŸ’¾ LÆ°u sáº£n pháº©m</button>
    </form>
</div>