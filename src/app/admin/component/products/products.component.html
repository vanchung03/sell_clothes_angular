<mat-card class="products-container">
  <mat-toolbar class="header-toolbar">
    <!-- <div class="header-title">
      <div>
        <span>Quáº£n lÃ½ sáº£n pháº©m</span>
        <p class="notes">
          ðŸ”¹ Quáº£n lÃ½ thÃ´ng tin sáº£n pháº©m<br>
          ðŸ”¹ CÃ³ thá»ƒ chá»‰nh sá»­a, xÃ³a hoáº·c xuáº¥t danh sÃ¡ch sáº£n pháº©m <br>
          ðŸ”¹ Nháº¥n vÃ o tráº¡ng thÃ¡i Ä‘á»ƒ báº­t/táº¯t sáº£n pháº©m
        </p>
      </div>
    </div> -->

    <!-- Ã” tÃ¬m kiáº¿m -->
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>TÃ¬m kiáº¿m</mat-label>
      <input #searchInput matInput (input)="applyFilter($event)" placeholder="Nháº­p tá»« khÃ³a tÃ¬m kiáº¿m" />
      <button mat-icon-button matSuffix (click)="clearSearch(searchInput)">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>

    <!-- NÃºt xuáº¥t Excel -->
    <button mat-raised-button (click)="exportToExcel()">
      <mat-icon>file_download</mat-icon> Xuáº¥t Excel
    </button>
    <!-- NÃºt thÃªm sáº£n pháº©m -->
    <button mat-raised-button (click)="addProduct()">
      + ThÃªm sáº£n pháº©m
    </button>
  </mat-toolbar>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 custom-table">
    <!-- Cá»™t Avatar & Info -->
    <ng-container matColumnDef="avatarAndInfo">
      <th mat-header-cell *matHeaderCellDef> Avatar & Info </th>
      <td mat-cell *matCellDef="let product" class="avatar-and-info">
        <img [src]="product.thumbnail" alt="{{ product.name }}" class="product-avatar" />
        <div class="info">
          <p><mat-icon>lock</mat-icon>: {{ product.productId }}</p>
          <p><mat-icon>business</mat-icon>: {{ product.brandId }}</p>
        </div>
      </td>
    </ng-container>

    <!-- Cá»™t: TÃªn sáº£n pháº©m -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>
        <mat-icon>label</mat-icon> TÃªn sáº£n pháº©m
      </th>
      <td mat-cell *matCellDef="let product">
        <strong>{{ product.name }}</strong>
      </td>
    </ng-container>

    <!-- Cá»™t: MÃ´ táº£ -->
    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>
        <mat-icon>description</mat-icon> MÃ´ táº£
      </th>
      <td mat-cell *matCellDef="let product"> {{ product.description }} </td>
    </ng-container>

    <!-- Cá»™t: GiÃ¡ -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>
        <mat-icon>attach_money</mat-icon> GiÃ¡
      </th>
      <td mat-cell *matCellDef="let product">
        {{ product.price | currency: 'VND' }}
      </td>
    </ng-container>

    <!-- Cá»™t: GiÃ¡ khuyáº¿n mÃ£i -->
    <ng-container matColumnDef="salePrice">
      <th mat-header-cell *matHeaderCellDef>
        <mat-icon>local_offer</mat-icon> GiÃ¡ KM
      </th>
      <td mat-cell *matCellDef="let product">
        {{ product.salePrice | currency: 'VND' }}
      </td>
    </ng-container>

    <!-- Cá»™t: Tráº¡ng thÃ¡i -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>
        <mat-icon>toggle_on</mat-icon> Tráº¡ng thÃ¡i
      </th>
      <td mat-cell *matCellDef="let product">
        <span class="status-badge" [ngClass]="product.status ? 'active' : 'inactive'">
          {{ product.status ? 'Hoáº¡t Ä‘á»™ng' : 'KhÃ´ng hoáº¡t Ä‘á»™ng' }}
        </span>
      </td>
    </ng-container>

    <!-- Cá»™t: HÃ nh Ä‘á»™ng -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>
        <i class="fas fa-ellipsis-h text-muted"></i> HÃ nh Ä‘á»™ng
      </th>
      <td mat-cell *matCellDef="let product">
        <!-- NÃºt Sá»­a -->
        <button mat-icon-button class="btn btn-outline-primary btn-sm"
          [routerLink]="['/update-product', product.productId]">
          <i class="fas fa-edit text-primary"></i>
        </button>

        <!-- NÃºt XÃ³a -->
        <button mat-icon-button class="btn btn-outline-danger btn-sm" (click)="onDelete(product.productId)">
          <i class="fas fa-times text-danger"></i>
        </button>
      </td>
    </ng-container>


    <!-- Header vÃ  Row -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSize]="3" [pageSizeOptions]="[3, 5, 7]" showFirstLastButtons></mat-paginator>
</mat-card>